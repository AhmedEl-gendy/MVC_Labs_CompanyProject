@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@{
    Layout = "_myLayout";
    var dbContext = new MVC_DbContext();
    var employeeSex = Model.Sex;
}

<h1 class="text-center my-5">Edit Employee</h1>

<form action="/Employee/EditDb" class="container p-5">
    <input id="id" name="SSN" value="@Model.SSN" hidden />

    <div class="form-group">
        <label for="Fname">First Name:</label>
        <input type="text" class="form-control" name="Fname" id="Fname" value="@Model.Fname" />
    </div>
    <div class="form-group">
        <label for="Lname">Last Name:</label>
        <input type="text" class="form-control" name="Lname" id="Lname" value="@Model.Lname" />
    </div>
    <div class="form-group">
        <label for="BirthDate">Birth Date:</label>
        <input type="date" class="form-control" name="BirthDate" id="BirthDate" value="@Model.BirthDate" />
    </div>
    <div class="form-group">
        <label for="Sex">Sex:</label>
        <select class="form-control" name="Sex" id="Sex">
            @if(employeeSex == "M")
            {
                <option value="M">Male</option>
                <option value="F">Female</option>
            }
            else
            {
                <option value="F">Female</option>
                <option value="M">Male</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="Address">Address:</label>
        <input type="text" class="form-control" name="Address" id="Address" value="@Model.Address" />
    </div>
    <div class="form-group">
        <label for="Salary">Salary:</label>
        <input type="text" class="form-control" name="Salary" id="Salary" value="@Model.Salary" />
    </div>
    <div class="form-group">
        <label for="SupervisorID">Supervisor:</label>
        <select class="form-control" name="SupervisorID" id="SupervisorID">
            @foreach (var supervisor in ViewBag.employee)
            {
                @if (supervisor.SSN == Model.SupervisorID)
                {
                    <option value="@supervisor.SSN" selected>@supervisor.Fname @supervisor.Lname</option>
                }
                else
                {
                    <option value="@supervisor.SSN">@supervisor.Fname @supervisor.Lname</option>
                }
            }
        </select>
    </div>
    <div class="form-group">
            <label for="DepartmentNum">Department:</label>
            <select name="DepartmentNum" id="DepartmentNum" class="form-control">
                @foreach (var department in ViewBag.department)
                {
                    @if (department.DeptNum == Model.DepartmentNum)
                    {
                        <option value="@department.DeptNum" selected>@department.DeptName</option>
                    }
                    else
                    {
                        <option value="@department.DeptNum">@department.DeptName</option>
                    }
                }
            </select>
    </div>
    <br />
    <button type="submit" class="btn btn-primary">Edit</button>
</form>





@*<h1>Edit Employee</h1>

<form action="/Employee/EditDb">
    <input id="id" name="SSN" value="@Model.SSN" hidden />

    <div class="form-group">
        <label for="Fname">First Name:</label>
        <input type="text" name="Fname" id="Fname" value="@Model.Fname" />
    </div>
    <div class="form-group">
        <label for="Lname">Last Name:</label>
        <input type="text" name="Lname" id="Lname" value="@Model.Lname" />
    </div>
    <div class="form-group">
        <label for="BirthDate">Birth Date:</label>
        <input type="date" name="BirthDate" id="BirthDate" value="@Model.BirthDate" />
    </div>
    <div class="form-group">
        <label for="Sex">Sex:</label>
        <select name="Sex" id="Sex">
            @if(employeeSex == "M")
            {
                <option value="M">Male</option>
            }
            else
            {
            <option value="F">Female</option>
            }
        </select>
    </div>
    <div class="form-group">
        <label for="Address">Address:</label>
        <input type="text" name="Address" id="Address" value="@Model.Address" />
    </div>
    <div class="form-group">
        <label for="Salary">Salary:</label>
        <input type="text" name="Salary" id="Salary" value="@Model.Salary" />
    </div>
    <div class="form-group">
        <label for="SupervisorID">Supervisor:</label>
        <select name="SupervisorID" id="SupervisorID">
            @foreach (var supervisor in ViewBag.employee)
            {
                @if (supervisor.SSN == Model.SupervisorID)
                {
                    <option value="@supervisor.SSN" selected>@supervisor.Fname @supervisor.Lname</option>
                }
                else
                {
                    <option value="@supervisor.SSN">@supervisor.Fname @supervisor.Lname</option>
                }
            }
        </select>
        <div class="form-group">
            <label for="DepartmentNum">Department:</label>
            <select name="DepartmentNum" id="DepartmentNum">
                @foreach (var department in ViewBag.department)
                {
                    @if (department.DeptNum == Model.DepartmentNum)
                    {
                        <option value="@department.DeptNum" selected>@department.DeptName</option>
                    }
                    else
                    {
                        <option value="@department.DeptNum">@department.DeptName</option>
                    }
                }
            </select>
        </div>

        <input type="submit" value="Edit" />
</form>*@